/* ===== –Ñ–î–ò–ù–Ü –°–¢–ò–õ–Ü –ö–ê–†–¢ ===== */
.c-card {
  /* –§—ñ–∫—Å–æ–≤–∞–Ω–∞ –≥–µ–æ–º–µ—Ç—Ä—ñ—è (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º xs) */
  width: var(--card-w-xs);
  height: var(--card-h-xs);
  border-radius: var(--card-radius);
  padding: var(--card-padding-xs);
  
  /* –ë–∞–∑–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ */
  position: relative;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  
  /* –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è Safari */
  contain: layout paint;
  transform: translateZ(0);
  
  background: none;
  border: none;
  margin: 0;
  cursor: pointer;
  transition: all 0.2s ease;
}

/* –†–æ–∑–º—ñ—Ä–∏ —á–µ—Ä–µ–∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ */
.c-card--xs { width: var(--card-w-xs); height: var(--card-h-xs); padding: var(--card-padding-xs); }
.c-card--sm { width: var(--card-w-sm); height: var(--card-h-sm); padding: var(--card-padding-sm); }
.c-card--md { width: var(--card-w-md); height: var(--card-h-md); padding: var(--card-padding-md); }
.c-card--lg { width: var(--card-w-lg); height: var(--card-h-lg); padding: var(--card-padding-lg); }

.c-card__frame { position: absolute; inset: 0; border-radius: calc(var(--card-radius) - 2px); overflow: hidden; z-index: 1; }

.c-card__art { position: absolute; inset: 0; background-size: cover; background-position: center; opacity: 0.4; z-index: 1; }

.c-card__content { position: relative; z-index: 2; flex: 1; display:flex; flex-direction: column; padding: 8px; overflow: hidden; }

.c-card__title { font-size: 11px; font-weight: bold; color: var(--color-text-primary); text-align:center; margin-bottom:4px; text-shadow:0 1px 2px rgba(0,0,0,0.8); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.c-card__meta { display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
.c-card__level { font-size:10px; font-weight:700; color:var(--color-text-secondary); background:rgba(0,0,0,0.5); padding:2px 6px; border-radius:10px; }
.c-card__rarity { font-size:9px; font-weight:700; text-transform:uppercase; color:var(--color-text-muted); }

.c-card__xp { height:4px; background:rgba(0,0,0,0.5); border-radius:2px; overflow:hidden; margin-bottom:8px; }
.c-card__xpFill { height:100%; background:var(--color-text-secondary); width:0%; transition: width 0.3s ease; }

.c-card__badge { position:absolute; top:8px; right:8px; width:24px; height:24px; border-radius:50%; background:rgba(0,0,0,0.7); display:flex; align-items:center; justify-content:center; font-size:12px; z-index:3; }

.c-card__power { position:absolute; bottom:8px; left:0; right:0; text-align:center; font-size:24px; font-weight:900; color:var(--color-text-primary); text-shadow:0 2px 4px rgba(0,0,0,0.8), 0 0 8px currentColor; z-index:3; }

.c-card__overlay { position:absolute; inset:0; border-radius:calc(var(--card-radius) - 2px); pointer-events:none; z-index:4; opacity:0; transition: opacity 0.2s ease; }
.c-card--selected .c-card__overlay--selected { opacity:1; box-shadow: inset 0 0 0 3px var(--color-selected), 0 0 20px var(--color-selected); }
.c-card--disabled .c-card__frame { opacity:0.5; filter:grayscale(0.8); }
.c-card--disabled .c-card__overlay--disabled { opacity:1; background: rgba(0,0,0,0.6); }
.c-card--locked .c-card__overlay--locked { opacity:1; background: rgba(42,34,24,0.7); }
.c-card--locked::after { content: "üîí"; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:24px; z-index:5; }

.c-card__upgrade-indicator { position:absolute; top:-4px; right:-4px; width:20px; height:20px; background:var(--color-upgrade); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:10px; color:white; z-index:10; box-shadow:0 2px 6px rgba(0,0,0,0.5); }

/* –í–∞—Ä—ñ–∞–Ω—Ç–∏ —Å—ñ—Ç–∫–∏ */
.grid-3x3 { display:grid; grid-template-columns:repeat(3,1fr); gap:var(--card-gap); padding:0 4px; align-items:start; grid-auto-rows:auto; }
.horizontal-card-list { display:flex; gap:var(--card-gap); padding:8px 0; overflow-x:auto; scroll-snap-type:x mandatory; }
.horizontal-card-list .c-card { scroll-snap-align:start; flex-shrink:0; }

.c-card--empty { background: rgba(255,255,255,0.05); border:2px dashed var(--color-text-muted); }
.c-card--empty::before { content:"+"; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:32px; color:var(--color-text-muted); }
